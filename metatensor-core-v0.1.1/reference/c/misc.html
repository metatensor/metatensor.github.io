<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../genindex.html" /><link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Changelog" href="CHANGELOG.html" /><link rel="prev" title="Data arrays" href="data.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Miscelaneous - metatensor 0.1.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/metatensor.css?v=d517da54" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">metatensor 0.1.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">metatensor 0.1.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Content:</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../get-started/index.html">Getting started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/installation.html">Installing metatensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/goals.html">Goals of this library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../get-started/concepts.html">Core concepts</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">API reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../python/index.html">Python API reference</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Python API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../python/tensor.html">TensorMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/block.html">TensorBlock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/labels.html">Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/io.html">Serialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/data.html">Data arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/misc.html">Miscelaneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../python/CHANGELOG.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../operations/index.html">Python operations reference</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Python operations reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/checks/index.html">Checks</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Checks</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/checks/checks_enabled.html">checks_enabled()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/checks/enable_checks.html">unsafe_enable_checks()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/checks/disable_checks.html">unsafe_disable_checks()</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/creation/index.html">Creation operations</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Creation operations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/creation/empty_like.html">empty_like()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/creation/ones_like.html">ones_like()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/creation/zeros_like.html">zeros_like()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/creation/random_like.html">random_like()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/creation/block_from_array.html">block_from_array()</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/linear_algebra/index.html">Linear algebra</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of Linear algebra</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/linear_algebra/dot.html">dot()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/linear_algebra/lstsq.html">lstsq()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/linear_algebra/solve.html">solve()</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/logic/index.html">Logic function</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle navigation of Logic function</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/logic/allclose.html">allclose()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/logic/equal.html">equal()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/logic/equal_metadata.html">equal_metadata()</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/manipulation/index.html">Manipulation operations</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle navigation of Manipulation operations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/detach.html">detach()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/drop-blocks.html">drop_blocks()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/join.html">join()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/manipulate-dimension.html">manipulate dimension</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/one-hot.html">one_hot()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/remove-gradients.html">remove_gradients()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/requires-grad.html">requires_grad()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/samples-reduction.html">samples reduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/slice.html">slice()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/split.html">split()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/manipulation/to.html">to()</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/math/index.html">Mathematical functions</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle navigation of Mathematical functions</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/math/abs.html">abs()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/math/add.html">add()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/math/divide.html">divide()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/math/multiply.html">multiply()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/math/pow.html">pow()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/math/subtract.html">subtract()</a></li>
</ul>
</li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../operations/set/index.html">Set operations</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle navigation of Set operations</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../operations/set/unique_metadata.html">unique_metadata()</a></li>
<li class="toctree-l4"><a class="reference internal" href="../operations/set/sort.html">sort()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../operations/CHANGELOG.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../cxx/index.html">C++ API reference</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle navigation of C++ API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../cxx/tensor.html">TensorMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/labels.html">Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/block.html">TensorBlock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/data.html">Data arrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/misc.html">Miscelaneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cxx/CHANGELOG.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">C API reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle navigation of C API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="tensor.html">TensorMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="labels.html">Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="block.html">TensorBlock</a></li>
<li class="toctree-l3"><a class="reference internal" href="data.html">Data arrays</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Miscelaneous</a></li>
<li class="toctree-l3"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rust/index.html">Rust API reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../torch/index.html">TorchScript API reference</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle navigation of TorchScript API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../torch/tensor.html">TensorMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="../torch/block.html">TensorBlock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../torch/labels.html">Labels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../torch/serialization.html">Serialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../torch/CHANGELOG.html">Changelog</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../torch/cxx/index.html">TorchScript C++ API reference</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle navigation of TorchScript C++ API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../torch/cxx/tensor.html">TensorMap</a></li>
<li class="toctree-l4"><a class="reference internal" href="../torch/cxx/block.html">TensorBlock</a></li>
<li class="toctree-l4"><a class="reference internal" href="../torch/cxx/labels.html">Labels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../torch/cxx/miscellaneous.html">Miscellaneous</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../atomistic/index.html">Atomistic Models</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle navigation of Atomistic Models</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../atomistic/reference/index.html">API reference</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle navigation of API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../atomistic/reference/systems.html">Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../atomistic/reference/models.html">Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../atomistic/reference/ase.html">Atomic Simulation Environment (ASE) integration</a></li>
<li class="toctree-l3 has-children"><a class="reference internal" href="../../atomistic/reference/cxx/index.html">C++ API reference</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle navigation of C++ API reference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../../atomistic/reference/cxx/systems.html">Systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../atomistic/reference/cxx/models.html">Models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../atomistic/outputs.html">Standard model outputs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../examples/atomistic/index.html">Tutorials</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle navigation of Tutorials</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../examples/atomistic/export-atomistic-model.html">Exporting a model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../examples/atomistic/running-ase-md.html">Running Molecular Dynamics with ASE</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../devdoc/index.html">Developer documentation</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle navigation of Developer documentation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/get-started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/architecture.html">Code organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devdoc/versions.html">Version number management</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="miscelaneous">
<h1>Miscelaneous<a class="headerlink" href="#miscelaneous" title="Link to this heading">#</a></h1>
<section id="error-handling">
<h2>Error handling<a class="headerlink" href="#error-handling" title="Link to this heading">#</a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.mts_last_error">
<span class="target" id="metatensor_8h_1a3e8cb022cf3c8ef248bb697964f40b89"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mts_last_error</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.mts_last_error" title="Link to this definition">#</a><br /></dt>
<dd><p>Get the last error message that was created on the current thread.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>the last error message, as a NULL-terminated string </p>
</dd>
</dl>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.mts_status_t">
<span class="target" id="metatensor_8h_1aded9e2c2df13366a6a551cc6f3500b6f"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mts_status_t</span></span></span><a class="headerlink" href="#c.mts_status_t" title="Link to this definition">#</a><br /></dt>
<dd><p>Status type returned by all functions in the C API.</p>
<p>The value 0 (<code class="docutils literal notranslate"><span class="pre">MTS_SUCCESS</span></code>) is used to indicate successful operations, positive values are used by this library to indicate errors, while negative values are reserved for users of this library to indicate their own errors in callbacks. </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MTS_SUCCESS">
<span class="target" id="metatensor_8h_1a76c3c0adf3084528b7615b53969d62f5"></span><span class="sig-name descname"><span class="n"><span class="pre">MTS_SUCCESS</span></span></span><a class="headerlink" href="#c.MTS_SUCCESS" title="Link to this definition">#</a><br /></dt>
<dd><p>Status code used when a function succeeded </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MTS_INVALID_PARAMETER_ERROR">
<span class="target" id="metatensor_8h_1a0f82d387613e84a682cbd426ba44bf0a"></span><span class="sig-name descname"><span class="n"><span class="pre">MTS_INVALID_PARAMETER_ERROR</span></span></span><a class="headerlink" href="#c.MTS_INVALID_PARAMETER_ERROR" title="Link to this definition">#</a><br /></dt>
<dd><p>Status code used when a function got an invalid parameter </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MTS_BUFFER_SIZE_ERROR">
<span class="target" id="metatensor_8h_1a2dd6b29144bad8146d8539811a7e3bf8"></span><span class="sig-name descname"><span class="n"><span class="pre">MTS_BUFFER_SIZE_ERROR</span></span></span><a class="headerlink" href="#c.MTS_BUFFER_SIZE_ERROR" title="Link to this definition">#</a><br /></dt>
<dd><p>Status code used when a memory buffer is too small to fit the requested data </p>
</dd></dl>

<dl class="c macro">
<dt class="sig sig-object c" id="c.MTS_INTERNAL_ERROR">
<span class="target" id="metatensor_8h_1a4c23ca216213d249fee22b2c7db63532"></span><span class="sig-name descname"><span class="n"><span class="pre">MTS_INTERNAL_ERROR</span></span></span><a class="headerlink" href="#c.MTS_INTERNAL_ERROR" title="Link to this definition">#</a><br /></dt>
<dd><p>Status code used when there was an internal error, i.e. there is a bug inside metatensor itself </p>
</dd></dl>

</section>
<section id="serialization">
<h2>Serialization<a class="headerlink" href="#serialization" title="Link to this heading">#</a></h2>
<dl class="c function">
<dt class="sig sig-object c" id="c.mts_tensormap_load">
<span class="target" id="metatensor_8h_1a434e6d32203be3753296a775e1aec5bb"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="tensor.html#c.mts_tensormap_t" title="mts_tensormap_t"><span class="n"><span class="pre">mts_tensormap_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mts_tensormap_load</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span>, <a class="reference internal" href="#c.mts_create_array_callback_t" title="mts_create_array_callback_t"><span class="n"><span class="pre">mts_create_array_callback_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">create_array</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.mts_tensormap_load" title="Link to this definition">#</a><br /></dt>
<dd><p>Load a tensor map from the file at the given path.</p>
<p>Arrays for the values and gradient data will be created with the given <code class="docutils literal notranslate"><span class="pre">create_array</span></code> callback, and filled by this function with the corresponding data.</p>
<p>The memory allocated by this function should be released using <code class="docutils literal notranslate"><span class="pre">mts_tensormap_free</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">TensorMap</span></code> are serialized using numpy’s <code class="docutils literal notranslate"><span class="pre">.npz</span></code> format, i.e. a ZIP file without compression (storage method is STORED), where each file is stored as a <code class="docutils literal notranslate"><span class="pre">.npy</span></code> array. Both the ZIP and NPY format are well documented:</p>
<p><ul class="simple">
<li><p>ZIP: <a class="reference external" href="https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT">https://pkware.cachefly.net/webdocs/casestudies/APPNOTE.TXT</a></p></li>
<li><p>NPY: <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.lib.format.html">https://numpy.org/doc/stable/reference/generated/numpy.lib.format.html</a></p></li>
</ul>
</p>
<p>We add other restriction on top of these formats when saving/loading data. First, <code class="docutils literal notranslate"><span class="pre">Labels</span></code> instances are saved as structured array, see the <code class="docutils literal notranslate"><span class="pre">labels</span></code> module for more information. Only 32-bit integers are supported for Labels, and only 64-bit floats are supported for data (values and gradients).</p>
<p>Second, the path of the files in the archive also carry meaning. The keys of the <code class="docutils literal notranslate"><span class="pre">TensorMap</span></code> are stored in <code class="docutils literal notranslate"><span class="pre">/keys.npy</span></code>, and then different blocks are stored as</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/<span class="w">  </span>blocks<span class="w"> </span>/<span class="w"> </span>&lt;block_id&gt;<span class="w">  </span>/<span class="w"> </span>values<span class="w"> </span>/<span class="w"> </span>samples.npy
<span class="w">                        </span>/<span class="w"> </span>values<span class="w"> </span>/<span class="w"> </span>components<span class="w">  </span>/<span class="w"> </span><span class="m">0</span>.npy
<span class="w">                                               </span>/<span class="w"> </span>&lt;...&gt;.npy
<span class="w">                                               </span>/<span class="w"> </span>&lt;n_components&gt;.npy
<span class="w">                        </span>/<span class="w"> </span>values<span class="w"> </span>/<span class="w"> </span>properties.npy
<span class="w">                        </span>/<span class="w"> </span>values<span class="w"> </span>/<span class="w"> </span>data.npy

<span class="w">                        </span><span class="c1"># optional sections for gradients, one by parameter</span>
<span class="w">                        </span>/<span class="w">   </span>gradients<span class="w"> </span>/<span class="w"> </span>&lt;parameter&gt;<span class="w"> </span>/<span class="w"> </span>samples.npy
<span class="w">                                                    </span>/<span class="w">   </span>components<span class="w">  </span>/<span class="w"> </span><span class="m">0</span>.npy
<span class="w">                                                                    </span>/<span class="w"> </span>&lt;...&gt;.npy
<span class="w">                                                                    </span>/<span class="w"> </span>&lt;n_components&gt;.npy
<span class="w">                                                    </span>/<span class="w">   </span>data.npy
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path to the file as a NULL-terminated UTF-8 string </p></li>
<li><p><strong>create_array</strong> – callback function that will be used to create data arrays inside each block</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pointer to the newly allocated tensor map, or a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> pointer in case of error. In case of error, you can use <code class="docutils literal notranslate"><span class="pre">mts_last_error()</span></code> to get the error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.mts_tensormap_save">
<span class="target" id="metatensor_8h_1a3bca301062a783c00cfff62d2064a1a3"></span><a class="reference internal" href="#c.mts_status_t" title="mts_status_t"><span class="n"><span class="pre">mts_status_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mts_tensormap_save</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">path</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="tensor.html#c.mts_tensormap_t" title="mts_tensormap_t"><span class="n"><span class="pre">mts_tensormap_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tensor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.mts_tensormap_save" title="Link to this definition">#</a><br /></dt>
<dd><p>Save a tensor map to the file at the given path.</p>
<p>If the file already exists, it is overwritten.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path to the file as a NULL-terminated UTF-8 string </p></li>
<li><p><strong>tensor</strong> – tensor map to save to the file</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status code of this operation. If the status is not <code class="docutils literal notranslate"><span class="pre">MTS_SUCCESS</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">mts_last_error()</span></code> to get the full error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.mts_tensormap_load_buffer">
<span class="target" id="metatensor_8h_1a93ba409d584116d7acd2ca9b8d423479"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="tensor.html#c.mts_tensormap_t" title="mts_tensormap_t"><span class="n"><span class="pre">mts_tensormap_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mts_tensormap_load_buffer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buffer</span></span>, <span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="n"><span class="pre">buffer_count</span></span>, <a class="reference internal" href="#c.mts_create_array_callback_t" title="mts_create_array_callback_t"><span class="n"><span class="pre">mts_create_array_callback_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">create_array</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.mts_tensormap_load_buffer" title="Link to this definition">#</a><br /></dt>
<dd><p>Load a tensor map from the given in-memory buffer.</p>
<p>Arrays for the values and gradient data will be created with the given <code class="docutils literal notranslate"><span class="pre">create_array</span></code> callback, and filled by this function with the corresponding data.</p>
<p>The memory allocated by this function should be released using <code class="docutils literal notranslate"><span class="pre">mts_tensormap_free</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer</strong> – buffer containing a previously serialized <code class="docutils literal notranslate"><span class="pre">mts_tensormap_t</span></code></p></li>
<li><p><strong>buffer_count</strong> – number of elements in the buffer </p></li>
<li><p><strong>create_array</strong> – callback function that will be used to create data arrays inside each block</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pointer to the newly allocated tensor map, or a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> pointer in case of error. In case of error, you can use <code class="docutils literal notranslate"><span class="pre">mts_last_error()</span></code> to get the error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c function">
<dt class="sig sig-object c" id="c.mts_tensormap_save_buffer">
<span class="target" id="metatensor_8h_1a8319a52d1c430eb74f0e974771e5693a"></span><a class="reference internal" href="#c.mts_status_t" title="mts_status_t"><span class="n"><span class="pre">mts_status_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mts_tensormap_save_buffer</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buffer</span></span>, <span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buffer_count</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">realloc_user_data</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">realloc</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ptr</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="n"><span class="pre">new_size</span></span><span class="p"><span class="pre">)</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="tensor.html#c.mts_tensormap_t" title="mts_tensormap_t"><span class="n"><span class="pre">mts_tensormap_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">tensor</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.mts_tensormap_save_buffer" title="Link to this definition">#</a><br /></dt>
<dd><p>Save a tensor map to an in-memory buffer.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">realloc</span></code> callback should take an existing pointer and a new length, and grow the allocation. If the pointer is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, it should create a new allocation. If it is unable to allocate memory, it should return a <code class="docutils literal notranslate"><span class="pre">NULL</span></code> pointer. This follows the API of the standard C function <code class="docutils literal notranslate"><span class="pre">realloc</span></code>, with an additional parameter <code class="docutils literal notranslate"><span class="pre">user_data</span></code> that can be used to hold custom data.</p>
<p>On input, <code class="docutils literal notranslate"><span class="pre">*buffer</span></code> should contain the address of a starting buffer (which can be NULL) and <code class="docutils literal notranslate"><span class="pre">*buffer_count</span></code> should contain the size of the allocation.</p>
<p>On output, <code class="docutils literal notranslate"><span class="pre">*buffer</span></code> will contain the serialized data, and <code class="docutils literal notranslate"><span class="pre">*buffer_count</span></code> the total number of written bytes (which might be less than the allocation size).</p>
<p>Users of this function are responsible for freeing the <code class="docutils literal notranslate"><span class="pre">*buffer</span></code> when they are done with it, using the function matching the <code class="docutils literal notranslate"><span class="pre">realloc</span></code> callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buffer</strong> – pointer to the buffer the tensor will be stored to, which can change due to reallocations. </p></li>
<li><p><strong>buffer_count</strong> – pointer to the buffer size on input, number of written bytes on output </p></li>
<li><p><strong>realloc_user_data</strong> – Custom data for the <code class="docutils literal notranslate"><span class="pre">realloc</span></code> callback. This will be passed as the first argument to <code class="docutils literal notranslate"><span class="pre">realloc</span></code> as-is. </p></li>
<li><p><strong>realloc</strong> – function that allows to grow the buffer allocation </p></li>
<li><p><strong>tensor</strong> – tensor map that will saved to the buffer</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The status code of this operation. If the status is not <code class="docutils literal notranslate"><span class="pre">MTS_SUCCESS</span></code>, you can use <code class="docutils literal notranslate"><span class="pre">mts_last_error()</span></code> to get the full error message. </p>
</dd>
</dl>
</dd></dl>

<dl class="c type">
<dt class="sig sig-object c" id="c.mts_create_array_callback_t">
<span class="target" id="metatensor_8h_1a726bd69c85146fc408d04bcd652dcd5a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#c.mts_status_t" title="mts_status_t"><span class="n"><span class="pre">mts_status_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mts_create_array_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="n"><span class="pre">shape_count</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="data.html#c.mts_array_t" title="mts_array_t"><span class="n"><span class="pre">mts_array_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#c.mts_create_array_callback_t" title="Link to this definition">#</a><br /></dt>
<dd><p>Function pointer to create a new <code class="docutils literal notranslate"><a class="reference internal" href="data.html#structmts__array__t"><span class="std std-ref"><span class="pre">mts_array_t</span></span></a></code> when de-serializing tensor maps.</p>
<p>This function gets the <code class="docutils literal notranslate"><span class="pre">shape</span></code> of the array (the <code class="docutils literal notranslate"><span class="pre">shape</span></code> contains <code class="docutils literal notranslate"><span class="pre">shape_count</span></code> elements) and should fill <code class="docutils literal notranslate"><span class="pre">array</span></code> with a new valid <code class="docutils literal notranslate"><a class="reference internal" href="data.html#structmts__array__t"><span class="std std-ref"><span class="pre">mts_array_t</span></span></a></code> or return non-zero <code class="docutils literal notranslate"><span class="pre">mts_status_t</span></code>.</p>
<p>The newly created array should contains 64-bit floating points (<code class="docutils literal notranslate"><span class="pre">double</span></code>) data, and live on CPU, since metatensor will use <code class="docutils literal notranslate"><a class="reference internal" href="data.html#structmts__array__t_1a49a58dead9718cd0177713ab911a29af"><span class="std std-ref"><span class="pre">mts_array_t.data</span></span></a></code> to get the data pointer and write to it. </p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="CHANGELOG.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Changelog</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="data.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Data arrays</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Guillaume Fraux, Davide Tisi, Philip Loche, Joseph W. Abbott, Jigyasa Nigam, Chiheb Ben Mahmoud
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Miscelaneous</a><ul>
<li><a class="reference internal" href="#error-handling">Error handling</a></li>
<li><a class="reference internal" href="#serialization">Serialization</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=a58bc63e"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../../_static/toggleprompt.js?v=670350bf"></script>
    <script defer data-domain="docs.metatensor.org" src="https://plausible.io/js/script.js"></script>
</body>
</html>